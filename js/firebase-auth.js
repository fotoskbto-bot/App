import { getAuth,signInWithEmailAndPassword,onAuthStateChanged,signOut } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js'; import { DOM } from './dom.js'; export function initAuth(onLogged){const auth=getAuth(); onAuthStateChanged(auth,u=>{if(u){DOM.loginView.style.display='none';DOM.appView.style.display='block';onLogged();}else{DOM.loginView.style.display='block';DOM.appView.style.display='none';}}); DOM.loginForm.addEventListener('submit',e=>{e.preventDefault();signInWithEmailAndPassword(auth,DOM.email.value,DOM.password.value).catch(()=>alert('Credenciales invÃ¡lidas'));}); DOM.logoutBtn.addEventListener('click',()=>signOut(auth));}